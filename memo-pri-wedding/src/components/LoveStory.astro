---
// Props que se podr√≠an pasar para personalizar
---

<!-- Swiper CSS is now imported in the script -->

<section id="love-story" class="section bg-white overflow-hidden py-8 md:py-12 px-0 relative">
  <img src="/images/flores_nuestra_historia.png" alt="Flower decoration" class="absolute top-0 left-0 w-24 md:w-40 h-auto z-20" />
  
  <div class="container mx-auto px-4">
    <h2 class="section-title text-[#004AAD] font-lichtner pt-16">Nuestra Historia</h2>

    <div class="max-w-3xl mx-auto text-center mb-16 px-12">
      <p class="text-lg text-[#004AAD] leading-relaxed font-script">
        Somos Pri y Memo.<br>
        Nos conocimos como no pod√≠a ser de otra forma: en una carrera de obst√°culos.<br>
        Ella dec√≠a que su abuelo hab√≠a sido presidente de Patronato.<br>
        √âl le promet√≠a que le pod√≠a ahorrar en la factura de luz‚Ä¶ y que si lo hac√≠a, le deb√≠a una birra.<br>
        Spoiler: hubo ahorro, y todav√≠a le debe la birra.<br>
        Desde ese primer cruce lleno de excusas (y un poco de estrategia), empezamos a compartir caminos, risas, viajes, deportes, naturaleza y muchos sue√±os.<br>
        Hoy, con el coraz√≥n lleno, decidimos dar un paso m√°s y celebrar el amor con las personas que m√°s queremos.<br>
        Nos emociona profundamente pensar que en este d√≠a tan especial vamos a estar rodeados de nuestras familias y amigos que vienen desde distintas partes: de Argentina, de Barcelona, y de muchos rincones m√°s. Sabemos lo que implica la distancia y lo valioso que es el reencuentro.<br>
        Gracias por ser parte de este cap√≠tulo tan importante para nosotros.<br>
         Nos hace inmensamente felices poder celebrarlo con ustedes. ü§ç
      </p>
    </div>
  </div>
  
  <!-- Swiper Carousel Section -->
  <div class="photo-carousel-container w-full relative">
    <!-- Navigation Buttons -->
    <div class="flex justify-end space-x-2 mb-2 relative z-10 px-4">
      <div class="love-story-swiper-prev cursor-pointer">
        <svg class="w-5 h-5 text-[#004AAD]" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <line x1="19" y1="12" x2="5" y2="12"></line>
          <polyline points="12 19 5 12 12 5"></polyline>
        </svg>
      </div>
      <div class="love-story-swiper-next cursor-pointer">
        <svg class="w-5 h-5 text-[#004AAD]" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <line x1="5" y1="12" x2="19" y2="12"></line>
          <polyline points="12 5 19 12 12 19"></polyline>
        </svg>
      </div>
    </div>

    <!-- Slider main container -->
    <div class="swiper love-story-swiper overflow-hidden">
      <!-- Additional required wrapper -->
      <div class="swiper-wrapper">
        <!-- Slides are dynamically generated in script -->
      </div>
    </div>
  </div>
      
</section>

<!-- Swiper JS is now imported in the script -->

<script>
  // Import Swiper bundle and its CSS
  import Swiper from 'swiper/bundle'; 
  import 'swiper/css/bundle'; // Includes core, pagination, navigation etc.

  document.addEventListener('DOMContentLoaded', () => {
    const imageNames = Array.from({ length: 10 }, (_, i) => `love_story_${i + 1}.jpeg`);
    const imageBaseUrl = '/images/love-story/';
    const swiperWrapper = document.querySelector('.love-story-swiper .swiper-wrapper');

    if (!swiperWrapper) {
      console.error("Swiper wrapper not found!");
      return;
    }

    imageNames.forEach(imageName => {
      const slide = document.createElement('div');
      slide.classList.add('swiper-slide');
      const img = document.createElement('img');
      img.src = `${imageBaseUrl}${imageName}`;
      img.alt = 'Photo from our story';
      img.loading = 'lazy';
      img.classList.add('w-full', 'h-full', 'object-cover');
      slide.appendChild(img);
      swiperWrapper.appendChild(slide);
    });

    // Initialize Swiper
    const swiper = new Swiper('.love-story-swiper', {
      direction: 'horizontal',
      loop: false,
      slidesPerView: 'auto',
      spaceBetween: 15,
      freeMode: {
        enabled: true,
        sticky: false,
        momentumBounce: true,
        momentumRatio: 0.7,
        momentumVelocityRatio: 0.7,
      },
      navigation: {
        nextEl: '.love-story-swiper-next',
        prevEl: '.love-story-swiper-prev',
      },
      grabCursor: true,
      watchSlidesProgress: false,
      observer: true,
      observeParents: true,
      a11y: {
        enabled: true,
      },
    });

  });
</script>

<style is:global>
  /* Styles are now global */
  .love-story-swiper {
    width: 100%;
  }

  .swiper-wrapper {
    align-items: center; 
  }

  .swiper-slide {
    width: 80%; 
    aspect-ratio: 1 / 1 !important;
    filter: grayscale(1);
    overflow: hidden; 
    box-sizing: border-box;
    flex-shrink: 0; 
  }

  /* --- Desktop --- */
  @media (min-width: 768px) { 
    .swiper-slide {
      width: 20% !important;
      aspect-ratio: 1 / 1 !important;
    }
  }

  .swiper-slide img {
    display: block; 
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* --- Navigation Arrows Custom Styling --- */
  .love-story-swiper-prev,
  .love-story-swiper-next {
    position: static; 
    color: #004AAD;
    transition: opacity 0.3s;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .swiper-button-disabled {
    opacity: 0.4;
    color: #6b7280;
    cursor: auto;
    pointer-events: none;
  }
</style>